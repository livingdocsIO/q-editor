<template>
  <require from="./schema-editor-wrapper"></require>
  <require from="./schema-editor-array.css"></require>
  <require from="../molecules/delete-button.html"></require>
  
  <div if.bind="data" repeat.for="entry of data" class="schema-editor-array__entry">    
    <schema-editor-wrapper
        schema.bind="$parent.schema.items"
        data.two-way="data[$index]"
        change.bind="$parent.change">
    </schema-editor-wrapper>
    <div class="schema-editor-array__entry-actions">
      <button-secondary if.bind="!$first" icon="up" click.delegate="moveElementUp(data, $index)"></button-secondary>
      <button-secondary if.bind="!$last" icon="down" click.delegate="moveElementDown(data, $index)"></button-secondary>
      <delete-button action.call="deleteElement(data, $index)"></delete-button>
    </div>
  </div>
  
  <button-secondary class="schema-editor-array__add-item-button" click.delegate="addElement(data, schema.items)">${arrayEntryLabel} <span t="editor.add">hinzuf√ºgen</span></button-secondary>
</template>
