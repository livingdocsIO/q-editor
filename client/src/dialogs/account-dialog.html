<template>
  <require from="../styles/q-dialog.css"></require>
  <div class="q-dialog">
    <div class="q-dialog__content">
      <h1 class="q-dialog-title">Konto</h1>
      <p class="q-dialog-text">
        Username: ${user.data.username}<br>
      </p>
      <form class="q-form" ref="userForm">
        <label for="department">Ressort</label>
        <div class="q-select">
          <select value.bind="user.data.department">
            <option value="default"></option>
            <option repeat.for="department of departments" value.bind="department">${department}</option>
          </select>
        </div>
        <label for="acronym">KÃ¼rzel
          <input type="text" id="acronym" value.bind="user.data.acronym">
        </label>
        <label for="initials">Initialen
          <input type="text" id="initials" value.bind="user.data.initials">
        </label>
        <button-primary
          click.delegate="saveUser()"
          icon="proceed"><span t="general.saveChanges"></span></button-primary>
      </form>
      <p class="q-text q-text--success" if.bind="userFormMessage">${userFormMessage}</p>
      <p class="q-text q-text--error" if.bind="userFormErrors">${userFormErrors}</p>
    </div>
    <aside class="q-dialog__controls">
      <button-primary
        click.trigger="logout()"
        icon="logout"><span t="general.logout"></span></button-primary>
      <button-secondary
        click.trigger="controller.cancel()"
        icon="leave"><span t="general.close"></span></button-secondary>
    </aside>
  </div>
</template>
